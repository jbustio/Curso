<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="action_candidate" model="ir.actions.act_window">
        <field name="name">Admission Software</field>
        <field name="res_model">candidate</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{"search_default_available":1}</field>
    </record>

        <menuitem
        id="candidate_menu"
        groups="base.group_user"
        name="Admission Software"
        action = "action_candidate"
        sequence="0"/>


        <record id="candidate_view_form" model="ir.ui.view">
            <field name="name">candidate.view.form</field>
            <field name="model">candidate</field>
            <field name="arch" type="xml">
                <form string="Candidate">
                    <header>
                        <button 
                            name="action_hire" 
                            type="object" 
                            string="Hire"
                            states="On Hold"
                            />
                        <button 
                            name="action_refuse" 
                            type="object" 
                            string="Refuse"
                            states="On Hold"
                            />
                    </header>
                    <sheet>
                    <div class="oe_title"> 
                        <h1>
                        <group>
                            <field name="name"/>
                            <field name="lastname"/>
                        </group>

                        </h1>
                        <field name="state"/> 
                    </div>
                        <group>
                            <group>
                                <field name="ci"></field>
                                <field name="sex"></field>
                                <field name="age"></field>

                            </group>
                            <group>
                                <field name="address"></field>
                            </group>
                        </group>
                        <group>
                            <notebook>
                                <page name="page1" string="Interview Info">
                                    <group>
                                        
                                        <field name="interviewer"></field> 
                                        <field name="recruiter" attrs="{'invisible': [('state', '=', 'On Hold')]}" /> 
                                        <field name="cv"></field> 
                                    </group>
                                </page>
                                <page name="page2" string="Technologies">
                                    <group>
                                        <field name="technologies_ids" attrs="{'readonly': [('state','=', ['Hired', 'Refused'])]}"/>
                                    </group>
                                </page>
                            </notebook>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="candidate_view_tree" model="ir.ui.view">
            <field name="name">candidate.view.tree</field>
            <field name="model">candidate</field>
            <field name="arch" type="xml">
                <tree string="Properties" decoration-success="state == 'Hired'" decoration-bf="state == 'On Hold'" decoration-muted="state =='Refused'">
            
                    <field name="name"></field>
                    <field name="lastname"></field>
                    <field name="state"></field>
                    <field name="ci"></field>
                    <field name="sex" optional="1"/>
                    <field name="age"></field>
                    <field name="interviewer"></field>
                    <field name="recruiter"></field>
                </tree>
            </field>
        </record>

        <record id="candidate_view_search" model="ir.ui.view">
            <field name="name">candidate.view.search</field>
            <field name="model">candidate</field>
            <field name="arch" type="xml">
                <search string="">
                <filter string="On Hold" name="available" domain="[('state', '=', 'On Hold')]"/>

            <field name="technologies_ids" string="Candidate Skills" 
            filter_domain="[('technologies_ids.technology_name','ilike',self)]"/>

            <filter name="Angular"  string="Experience in Angular Devs" 
                    domain="[('technologies_ids.technology_name', '=', 'Angular')]" />
                    
            <filter name="Vue" string="Experience in Vue" 
                    domain="[('technologies_ids.technology_name', '=', 'Vue')]"  />

            <filter name="React Native" string="Experience in React Native" 
                    domain="[('technologies_ids.technology_name', '=', 'React Native')]"  />

            <filter name="CSS" string="Experience in CSS" 
                    domain="[('technologies_ids.technology_name', '=', 'CSS')]"  />

            <filter name="Sprintboot" 
                    string="Experience in Spring Boot" 
                    domain="[('technologies_ids.technology_name', '=', 'Sprintboot')]" />
            
            <filter name="Odoo" string="Experience in Odoo" 
                    domain="[('technologies_ids.technology_name', '=', 'Odoo')]" />

             <filter name="React" string="Experience in React" 
                    domain="[('technologies_ids.technology_name', '=', 'React')]" />

             <filter name="Flutter" string="Experience in Flutter" 
                    domain="[('technologies_ids.technology_name', '=', 'Flutter')]" />

            <filter name="Python" string="Experience in Python" 
                    domain="[('technologies_ids.technology_name', '=', 'Python')]"  />

            <filter name="HTML" string="Experience in HTML" 
                    domain="[('technologies_ids.technology_name', '=', 'HTML')]" />
                    
            <filter name="AWS" string="Experience in AWS" 
                    domain="[('technologies_ids.technology_name', '=', 'AWS')]" />
        </search>

            </field>
        </record>

</odoo>
